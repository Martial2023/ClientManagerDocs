"use strict";(self.webpackChunkclientmanageger_api_docs=self.webpackChunkclientmanageger_api_docs||[]).push([[256],{6549:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"devices","title":"Device Management","description":"Enregistrer ou mettre \xe0 jour un device","source":"@site/docs/devices.md","sourceDirName":".","slug":"/devices","permalink":"/ClientManagerDocs/docs/devices","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/ClientManagerDocs/docs/intro"},"next":{"title":"Servers Management","permalink":"/ClientManagerDocs/docs/servers"}}');var i=r(4848),c=r(8453);const t={},o="Device Management",d={},l=[{value:"Endpoint POST /devices/register",id:"endpoint-post-devicesregister",level:3},{value:"Description",id:"description",level:3},{value:"Headers",id:"headers",level:3},{value:"Body",id:"body",level:3},{value:"R\xe9ponses",id:"r\xe9ponses",level:3},{value:"Exemple de requ\xeate avec curl",id:"exemple-de-requ\xeate-avec-curl",level:3}];function a(e){const n={br:"br",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"device-management",children:"Device Management"})}),"\n",(0,i.jsx)(n.p,{children:"Enregistrer ou mettre \xe0 jour un device"}),"\n",(0,i.jsx)(n.h3,{id:"endpoint-post-devicesregister",children:"Endpoint POST /devices/register"}),"\n",(0,i.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(n.p,{children:["Permet d\u2019enregistrer un ",(0,i.jsx)(n.strong,{children:"device mobile"})," (Android/iOS) associ\xe9 \xe0 un serveur.",(0,i.jsx)(n.br,{}),"\n","Chaque device est identifi\xe9 par un ",(0,i.jsx)(n.strong,{children:"fcmToken"})," (Firebase Cloud Messaging)."]}),"\n",(0,i.jsx)(n.h3,{id:"headers",children:"Headers"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Content-Type: application/json"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"body",children:"Body"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "email": "serveur@resto.com",\n  "fcmToken": "AAAABBBBCCCC",\n  "platform": "android"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"r\xe9ponses",children:"R\xe9ponses"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"200 OK"})," : Device enregistr\xe9 ou mis \xe0 jour avec succ\xe8s."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "ok": true,\n  "device": {\n      "id": "123",\n      "serverEmail": "serveur@resto.com",\n      "fcmToken": "AAAABBBBCCCC",\n      "platform": "android"\n  }\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"400 Bad Request"})," : Requ\xeate mal form\xe9e (ex: email ou fcmToken manquant)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "ok": false,\n  "error": "Email and fcmToken are required"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"500 Internal Server Error"})," : Erreur serveur."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "ok": false,\n  "error": "Internal server error"\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"exemple-de-requ\xeate-avec-curl",children:"Exemple de requ\xeate avec curl"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://ton-api.onrender.com/devices/register \\\n  -H "Content-Type: application/json" \\\n  -d \'{"email":"serveur@resto.com","fcmToken":"AAAABBBBCCCC","platform":"android"}\'\n'})})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>o});var s=r(6540);const i={},c=s.createContext(i);function t(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);